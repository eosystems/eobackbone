'use strict';

angular.module('eoApp', [
  'ngResource',
  'ui.router',
  'ui.select',
  'ui.bootstrap',
  'ngTable',
  'chart.js',
  'ngAnimate',
  'toastr',
  'ngDragDrop',
  'ngSanitize',
  'darthwade.dwLoading'
]).config(['$stateProvider', '$urlRouterProvider', '$sceProvider', 'toastrConfig', '$httpProvider',
  function ($stateProvider, $urlRouterProvider, $sceProvider, toastrConfig, $httpProvider) {
  // Toastr
  angular.extend(toastrConfig, {
    timeOut: 2000
  });

  // Routing
  $sceProvider.enabled(false);
  // $urlRouterProvider.otherwise('/');
  // Creatives
  $stateProvider.state('dashboard', {
    url: '/dashboard',
    templateUrl: '<%= asset_path 'dashboard' %>',
    controller: 'dashboardController'
  })
  .state('orders', {
    url: '/orders',
    templateUrl: '<%= asset_path 'orders/index.html' %>',
    controller: 'ordersController'
  })
  .state('sellRequests', {
    url: '/sell_requests',
    templateUrl: '<%= asset_path 'sell_requests/new.html' %>',
    controller: 'sellRequestsController'
  })
  .state('userMarketOrders',{
    url: '/user_market_orders',
    templateUrl: '<%= asset_path 'user_market_orders/index.html' %>',
    controller: 'userMarketOrdersController'
  })
  .state('walletTransactions',{
    url: '/wallet_transactions',
    templateUrl: '<%= asset_path 'wallet_transactions/index.html' %>',
    controller: 'walletTransactionsController'
  })
  .state('trades',{
    url: '/trades',
    templateUrl: '<%= asset_path 'trades/index.html' %>',
    controller: 'tradesController'
  })
  ;

}])
.run(['$rootScope', '$state', '$stateParams', function ($rootScope, $state, $stateParams) {
  $rootScope.$state = $state;
  $rootScope.$stateParams = $stateParams;
}])
;
