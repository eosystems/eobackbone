'use strict';

angular.module('eoApp')

.controller(
  'sellRequestsController',
  ['ngTableParams', '$resource', '$scope', '$state', function(ngTableParams, $resource, $scope, $state) {
    var Api = $resource("/api/sell_orders", {}, {
      create: {
        method: 'POST'
      }
    });


    $scope.totalPrice = 0.0;
    $scope.retrievalItems = function() {
      return Api.get({ form: $scope.retrievalForm }).$promise.then(function(data) {
        if (data.result) {
          $scope.totalPrice = data.result.total_price;
          $scope.items = data.result.order_details;
        }
      });
    };
  }]
);
